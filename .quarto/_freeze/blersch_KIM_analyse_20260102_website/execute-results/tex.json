{
  "hash": "ea544a640143e5373187d30e14eb60ab",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"KIM-Analyse\"\nauthor: \"Blersch, Mario\"\nformat: \n  html: default\n  pdf: default\neditor: visual\nexecute: \n  echo: true\n  freeze: true\n---\n\n# Vorbereitung\n\n## Packages importieren\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(reshape)\nlibrary(ggplot2)\nlibrary(psych)                                                  \n```\n:::\n\n\n\n\nVorsicht: Die Funktion alpha gibt es sowohl im Paket `psych` als auch im Paket `ggplot2`. Hier kann es leicht zu Konflikten kommen. Ein klarer Verweis zur alpha-Funktion in `psych` findet sich im entsprechenden Code-Block weiter unten.\n\n## Arbeitsbereich vorbereiten\n\nDir setzen, filename korrekt schreiben und working directory definieren.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfile = 'Blersch_KIM_Analyse_pub.csv'\nprint(paste0('Dateipfad: ', file))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Dateipfad: Blersch_KIM_Analyse_pub.csv\"\n```\n\n\n:::\n:::\n\n\n## Daten importieren und vorbereiten\n\nEncoding der zu importierenden CSV-Tabelle beachten: Für deutsche Umlaute bieten sich die Encodings `UTF-8`, `latin1` oder `ISO-8859-1` an.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- read.csv(file, sep = ';', header = TRUE, fileEncoding = \"ISO-8859-1\")\n#head(df)\n```\n:::\n\n\n\n::: {#tbl-DatenImportierenII .cell tbl-cap='Import der Daten'}\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{rlllrrrrrrrrrrrrrrrrlrrrrrrrllllllllr}\n\\caption{\\label{tab:tbl-DatenImportierenII}Tab. 1: Import der Daten}\\\\\n\\toprule\nid & sus & ue.name & date & X1 & X2 & X3 & X4 & X5 & X6 & X7 & X8 & X9 & X10 & X11 & X12 & X13 & X14 & X15 & X16 & X17 & X18 & X19 & X20 & X22 & X23 & X24 & X25 & X26 & X28 & X29 & X30 & X31 & X32 & X33 & X34 & X\\\\\n\\midrule\n1 & be1 & exk & 20.09.2022 & 4 & 3 & 5 & 1 & 4 & 4 & 4 & 4 & 0 & 1 & 4 & 4 & 4 & 1 & 3 & 1 &  & 5 & 5 & 5 & 4 & 2 & 4 & 4 & 2.00 & wöchentlich & seltener & im Schulbuch. am Computer & 18 & m & 5 & ja & NA\\\\\n2 & be2 & exk & 20.09.2022 & 3 & 3 & 5 & 1 & 3 & 3 & 5 & 5 & 4 & 3 & 4 & 3 & 4 & 1 & 4 & 1 &  & 4 & 5 & 5 & 5 & 1 & 3 & 3 & Feb 25 & wöchentlich & seltener & im Schulbuch. mit dem Tablet/Smartphone & 18 & m & 5 & ja & NA\\\\\n3 & be3 & exk & 20.09.2022 & 3 & 4 & 5 & 2 & 2 & 4 & 3 & 3 & 4 & 4 & 4 & 1 & 1 & 1 & 4 & 1 &  & 4 & 4 & 4 & 5 & 1 & 2 & 4 & Feb 25 & täglich & seltener & im Schulbuch. am Computer. mit dem Tablet/Smartphone & 17 & m & 5 & ja & NA\\\\\n4 & be4 & exk & 20.09.2022 & 4 & 3 & 4 & 1 & 5 & 5 & 4 & 5 & 1 & 4 & 5 & 1 & 5 & 4 & 1 & 1 &  & 5 & 5 & 5 & 5 & 1 & 4 & 5 & 1.00 & wöchentlich & monatlich & im Schulbuch. am Computer. mit dem Tablet/Smartphone & 18 & k & 5 & ja & NA\\\\\n5 & be5 & exk & 20.09.2022 & 4 & 2 & 3 & 1 & 3 & 3 & 4 & 4 & 2 & 2 & 3 & 3 & 3 & 3 & 4 & 1 &  & 5 & 4 & 4 & 3 & 3 & 4 & 2 &  & wöchentlich & monatlich & im Schulbuch. am Computer. mit dem Tablet/Smartphone & 17 & m & 5 & ja & NA\\\\\n\\addlinespace\n6 & be6 & exk & 20.09.2022 & 3 & 2 & 5 & 1 & 3 & 4 & 5 & 5 & 4 & 2 & 4 & 2 & 2 & 1 & 3 & 2 &  & 5 & 5 & 5 & 5 & 1 & 5 & 2 & Jan 25 & wöchentlich & seltener & im Schulbuch. am Computer. mit dem Tablet/Smartphone & 17 & k & 5 & ja & NA\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfor (i in 1:nrow(df)) {                         # Spalte \"gruppe\" hinzufügen\n  if(df$ue.name[i] == 'exk'){\n    df$gruppe[i] = \"Exkursion\"                \n  } else if(df$ue.name[i] == 'szr') {\n    df$gruppe[i] = \"Satellitenzeitreihe\"               \n  } else {\n    df$gruppe[i] = \"Fehler\"\n  }\n}                                     \n\n# character Einträge der Spalten in factors umwandeln \ndf$ue.name = factor(df$ue.name, levels = c(\"exk\", \"szr\"))                       \ndf$gruppe = factor(df$gruppe, levels = c(\"Exkursion\", \"Satellitenzeitreihe\"))   \n\n# Anzahl an SuS pro Gruppe ausgeben\nprint(paste0('Gruppe A - Exkursion: n = ', nrow(df[df$gruppe == \"Exkursion\",]))) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Gruppe A - Exkursion: n = 51\"\n```\n\n\n:::\n\n```{.r .cell-code}\nprint(paste0('Gruppe B - Satellitenzeitreihe: n = ', nrow(df[df$gruppe == \"Satellitenzeitreihe\",])))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"Gruppe B - Satellitenzeitreihe: n = 63\"\n```\n\n\n:::\n:::\n\n\n# Reliabilität prüfen (Cronbachs alpha)\n\nFür die Reliabilitätsprüfung verwenden wir das Paket `psych`. Die Labels `x1`, `x2`, `x3` usw. entsprichen den Spaltennamen der importierten Tabelle. \n\n## Gruppe A\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntyp_exk = df[df$gruppe == \"Exkursion\",]         # SuS von Gruppe B selektieren\n#print(head(typ))\n```\n:::\n\n\nMit der Funktion alpha berechnen wir Cronbachs alpha für die entsprechende KIM Dimension, die aus drei Items besteht. Die \"Dimension\" Zusatz bezieht sich auf Items außerhalb der KIM und bezogen sich auf Fragen, die auf die Bedienbarkeit der App abzielten.\n\n::: {.cell}\n\n```{.r .cell-code}\nalpha_interesse = psych::alpha(subset(typ_exk, select = c(X1, X5, X13)))    # Interesse\nalpha_wahlfreiheit = psych::alpha(subset(typ_exk, select = c(X3, X9, X15))) # Wahlfreiheit\nalpha_druck = psych::alpha(subset(typ_exk, select = c(X4, X14, X16)))       # Druck\nalpha_kompetenz = psych::alpha(subset(typ_exk, select = c(X7, X8, X11)))    # Kompetenz\nalpha_zusatz = psych::alpha(subset(typ_exk, select = c(X2, X6, X10, X12)))  # Zusatz\n```\n:::\n\n\nWir haben Cronbachs alpha berechnet und in Variablen geschrieben. Jetzt erstellen wir einen Dataframe, um eine bessere Übersicht über die Werte zu erhalten.\n\n::: {.cell}\n\n```{.r .cell-code}\nreliabilitaets_tabelle_exk = data.frame(        # Ergebnistabelle erstellen\n  Exk_Dimension = c(\"Interesse\", \"Wahlfreiheit\", \"Druck\", \"Kompetenz\", \"Zusatz\"),\n  Cronbachs_Alpha = c(\n    alpha_interesse$total$raw_alpha,            # cronbachs alpha von Interesse\n    alpha_wahlfreiheit$total$raw_alpha,\n    alpha_druck$total$raw_alpha,\n    alpha_kompetenz$total$raw_alpha,\n    alpha_zusatz$total$raw_alpha\n  ))\nprint(reliabilitaets_tabelle_exk)               # Cronbachs alpha\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Exk_Dimension Cronbachs_Alpha\n1     Interesse       0.8628302\n2  Wahlfreiheit       0.6721685\n3         Druck       0.7050517\n4     Kompetenz       0.7576531\n5        Zusatz       0.7597961\n```\n\n\n:::\n:::\n\n\n## Gruppe B\n\nHier führen wir das selbe wie bei Gruppe A durch. Mit dem Unterschied, dass wir die Sus selektieren, die an den Satellitenzeitreihen (also Gruppe B) mitgearbeitet haben.\n\n::: {.cell}\n\n```{.r .cell-code}\ntyp_szr = df[df$gruppe == \"Satellitenzeitreihe\",]   # SuS von Gruppe B selektieren\n#print(head(typ))\nalpha_interesse = psych::alpha(subset(typ_szr, select = c(X1, X5, X13)))    # Interesse \nalpha_wahlfreiheit = psych::alpha(subset(typ_szr, select = c(X3, X9, X15))) # Wahlfreiheit\nalpha_druck = psych::alpha(subset(typ_szr, select = c(X4, X14, X16)))       # Druck\nalpha_kompetenz = psych::alpha(subset(typ_szr, select = c(X7, X8, X11)))    # Kompetenz\nalpha_zusatz = psych::alpha(subset(typ_szr, select = c(X2, X6, X10, X12)))  # Zusatz\n```\n:::\n\nErneut eine Tabelle zur besseren Übersicht.\n\n::: {.cell}\n\n```{.r .cell-code}\nreliabilitaets_tabelle_szr = data.frame(            # Ergebnistabelle erstellen\n  Szr_Dimension = c(\"Interesse\", \"Wahlfreiheit\", \"Druck\", \"Kompetenz\", \"Zusatz\"),\n  Cronbachs_Alpha = c(\n    alpha_interesse$total$raw_alpha,                # cronbachs alpha von Interesse\n    alpha_wahlfreiheit$total$raw_alpha,\n    alpha_druck$total$raw_alpha,\n    alpha_kompetenz$total$raw_alpha,\n    alpha_zusatz$total$raw_alpha\n  ))\nprint(reliabilitaets_tabelle_szr)                   # Cronbachs alpha\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  Szr_Dimension Cronbachs_Alpha\n1     Interesse       0.7606274\n2  Wahlfreiheit       0.8334994\n3         Druck       0.7615383\n4     Kompetenz       0.8133524\n5        Zusatz       0.7471812\n```\n\n\n:::\n:::\n\n\n## Skalenwerte bilden\n\nWenn cronbach alpha akzeptabele ist, dann können Skalenwerte (Mean) der Dimensionen gebildet werden. Skalenwerte von bspw. Interesse mit rowMeans berechnen.\n\nIn unserem Fall ist keine eine Um- oder REkodierung notwendig. Der Skalenwert wird pro Schülerin und Schüler berechnet, weshalb die Zugehörigkeit zur Gruppe hier noch keine Rolle spielt.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nskalenwert_interesse = rowMeans(df[, c(\"X1\", \"X5\", \"X13\")])     # Interesse\nskalenwert_wahlfreiheit = rowMeans(df[, c(\"X3\", \"X9\", \"X15\")])  # Wahlfreiheit\nskalenwert_druck = rowMeans(df[, c(\"X4\", \"X14\", \"X16\")])        # Druck\nskalenwert_kompetenz = rowMeans(df[, c(\"X7\", \"X8\", \"X11\")])     # Kompetenz\nskalenwert_zusatz = rowMeans(df[, c(\"X2\", \"X6\", \"X10\", \"X12\")]) # Zusatz\ndf_kim = data.frame(\n  susID = df$sus,\n  ueID = df$gruppe,\n  ueName = df$ue.name,\n  date = df$date,\n  Interesse = skalenwert_interesse,\n  Wahlfreiheit = skalenwert_wahlfreiheit,\n  Druck = skalenwert_druck,\n  Kompetenz = skalenwert_kompetenz,\n  Zusatz = skalenwert_zusatz\n)                                             # merge to a data.frame\n\nprint(paste0('n = ', nrow(df_kim)))           # print report\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] \"n = 114\"\n```\n\n\n:::\n:::\n\n\n\n::: {#tbl-SkalenwerteBildenI .cell tbl-cap='Skalenwerte bilden'}\n::: {.cell-output-display}\n\n\\begin{longtable}[t]{llllrrrrr}\n\\caption{\\label{tab:tbl-SkalenwerteBildenI}Tab. 2: Skalenwerte}\\\\\n\\toprule\nsusID & ueID & ueName & date & Interesse & Wahlfreiheit & Druck & Kompetenz & Zusatz\\\\\n\\midrule\nbe1 & Exkursion & exk & 20.09.2022 & 4.000000 & 2.666667 & 1.000000 & 4.000000 & 3.00\\\\\nbe2 & Exkursion & exk & 20.09.2022 & 3.333333 & 4.333333 & 1.000000 & 4.666667 & 3.00\\\\\nbe3 & Exkursion & exk & 20.09.2022 & 2.000000 & 4.333333 & 1.333333 & 3.333333 & 3.25\\\\\nbe4 & Exkursion & exk & 20.09.2022 & 4.666667 & 2.000000 & 2.000000 & 4.666667 & 3.25\\\\\nbe5 & Exkursion & exk & 20.09.2022 & 3.333333 & 3.000000 & 1.666667 & 3.666667 & 2.50\\\\\n\\addlinespace\nbe6 & Exkursion & exk & 20.09.2022 & 2.666667 & 4.000000 & 1.333333 & 4.666667 & 2.50\\\\\n\\bottomrule\n\\end{longtable}\n\n\n:::\n:::\n\n\n# Deskriptive Statistik für die KIM\n\nHier werden Werte der desktiptiven Statistik wie bei Wilde et al. (2009) und Keller et al. (2024) berechnet.\nDazu zählen der Mittelwert, der Median, die Standardabweichung (sd), die Quartile und die Differenz der Quartile.\n\n## Gruppe A: Exkursion\n\nDaten nach Gruppe selektieren, dann r's summary-Funktion auf Daten anwenden und in eine csv-Datei exportieren.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_kim_exk = df_kim[df_kim$ueID == 'Exkursion',]\nsumstat_exk = summary(df_kim_exk)\nwrite.csv2(sumstat_exk, file = \"blersch_diss_analyse_exk.csv\") # exportieren\n```\n:::\n\n\nStandardabweichung via der sd-Funktion ausgeben lassen. In diesem Fall habe ich die Werte manuell in die Ergebnistabelle eingefügt.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsd_interesse_exk = sd(df_kim_exk$Interesse, na.rm=TRUE)\nprint(sd_interesse_exk)# Standardabweichung ausgeben\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8728174\n```\n\n\n:::\n\n```{.r .cell-code}\nsd_wahfreiheit_exk = sd(df_kim_exk$Wahlfreiheit, na.rm=TRUE)\nsd_druck_exk = sd(df_kim_exk$Druck, na.rm=TRUE)\nsd_kompetenz_exk = sd(df_kim_exk$Kompetenz, na.rm=TRUE)\nsd_zusatz_exk = sd(df_kim_exk$Zusatz, na.rm=TRUE)\n\nprint(sd_interesse_exk);print(sd_wahfreiheit_exk);print(sd_druck_exk)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8728174\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.027678\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8441475\n```\n\n\n:::\n\n```{.r .cell-code}\nprint(sd_kompetenz_exk) # Ergebnisse ausgeben lassen\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8164966\n```\n\n\n:::\n:::\n\n\n## Gruppe B: Satellitenzeitreihe\n\nHier führen wir das selbe wie bei Gruppe A durch. Mit dem Unterschied, dass wir die Sus selektieren, die an den Satellitenzeitreihen (also Gruppe B) mitgearbeitet haben.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_kim_szr = df_kim[df_kim$ueID == 'Satellitenzeitreihe',]\nsumstat_szr = summary(df_kim_szr)\nwrite.csv2(sumstat_szr, file = \"blersch_diss_analyse_szr.csv\") # exportieren\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsd_interesse_szr = sd(df_kim_szr$Interesse, na.rm=TRUE) # Standardabweichung ausgeben\nsd_wahfreiheit_szr = sd(df_kim_szr$Wahlfreiheit, na.rm=TRUE)\nsd_druck_szr = sd(df_kim_szr$Druck, na.rm=TRUE)\nsd_kompetenz_szr = sd(df_kim_szr$Kompetenz, na.rm=TRUE)\nsd_zusatz_szr = sd(df_kim_szr$Zusatz, na.rm=TRUE)\n\n# Ergebnisse ausgeben lassen\nprint(sd_interesse_szr);print(sd_wahfreiheit_szr);print(sd_druck_szr);print(sd_kompetenz_szr) \n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.8708377\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 1.04036\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.9248132\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 0.9269708\n```\n\n\n:::\n:::\n\n\n# Visualisierung\n\n## Daten/Tabelle für Boxplot vorbereiten\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_kim_kurz = df_kim[1:8]     # bis Kompetenz\ndata = melt(df_kim_kurz)      # Neues 'long format' für gruppiertes Boxplot\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nUsing susID, ueID, ueName, date as id variables\n```\n\n\n:::\n\n```{.r .cell-code}\n# Spalten umbenennen, dass Boxplot-Achsen gut lesbar sind\ncolnames(data)[2] = \"Gruppe\"; colnames(data)[5] = \"KIM\"; colnames(data)[6] = \"Likert\" \n```\n:::\n\n\n## Boxplot erstellen\n\nVorlage aus: <https://r-graph-gallery.com/265-grouped-boxplot-with-ggplot2.html>\n\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data, aes(x=KIM, y=Likert, fill=Gruppe)) +                                       \n  geom_boxplot(alpha=0.75) +    # hier bezieht sich alpha auf die Transparenz der Farbe\n  ylim(1, 5) +\n  scale_fill_manual(values=c(\"#252653\",\"#FFC50B\")) +       # Farbgebung\n  theme_bw() +\n  theme(legend.position=\"bottom\", plot.title = element_text(size=11)) +\n  xlab(\"KIM Bereiche\") +\n  ylab(\"Likert Skala\")\n```\n\n::: {.cell-output-display}\n![](blersch_KIM_analyse_20260102_website_files/figure-pdf/Visualisierung-1.pdf){fig-pos='H'}\n:::\n:::\n\n",
    "supporting": [
      "blersch_KIM_analyse_20260102_website_files\\figure-pdf"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "\\usepackage{booktabs}\n\\usepackage{longtable}\n\\usepackage{array}\n\\usepackage{multirow}\n\\usepackage{wrapfig}\n\\usepackage{float}\n\\usepackage{colortbl}\n\\usepackage{pdflscape}\n\\usepackage{tabu}\n\\usepackage{threeparttable}\n\\usepackage{threeparttablex}\n\\usepackage[normalem]{ulem}\n\\usepackage{makecell}\n\\usepackage{xcolor}\n"
      ]
    },
    "engineDependencies": {},
    "preserve": null,
    "postProcess": false
  }
}