#| label: load-packages
#| message: false
library(reshape)
library(ggplot2)
library(psych)
library(rmarkdown)  # für die Online-Darstellung
library(knitr);     # für die Online-Darstellung
library(kableExtra) # für die Online-Darstellung (für schöneres Styling)
?library
#| label: load-packages
#| message: false
library(reshape, quietly = FALSE)
library(ggplot2)
library(psych)
library(rmarkdown)  # für die Online-Darstellung
library(knitr);     # für die Online-Darstellung
library(kableExtra) # für die Online-Darstellung (für schöneres Styling)
#| label: load-packages
#| message: false
library(reshape, quietly = FALSE)
library(ggplot2)
library(psych)
library(rmarkdown)  # für die Online-Darstellung
library(knitr);     # für die Online-Darstellung
library(kableExtra) # für die Online-Darstellung (für schöneres Styling)
dir = 'C:/Users/mario_twc07u3/OneDrive/Desktop/20260102/v2/Blersch_KIM'                 # directory
file_name = 'Blersch_KIM_Analyse_pub.csv'                       # file name
setwd(dir)                                                      # set & get working directory
file = paste0(dir,'/', file_name)                               # merge directory and file name
print(paste0('Dateipfad: ',file))
df <- read.csv(file, sep = ';', header = TRUE, fileEncoding = "ISO-8859-1")              # Daten importieren
kable(head(df), caption = "Importierte Tabelle") %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed"), full_width = F)
sd_interesse_szr = sd(df_kim_szr$Interesse, na.rm=TRUE) # Standardabweichung ausgeben
df <- read.csv(file, sep = ';', header = TRUE, fileEncoding = "ISO-8859-1")              # Daten importieren
kable(head(df), caption = "Importierte Tabelle") %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed"), full_width = F)
for (i in 1:nrow(df)) {                                         # Spalte "gruppe" hinzufügen
if(df$ue.name[i] == 'exk'){
df$gruppe[i] = "Exkursion"
} else if(df$ue.name[i] == 'szr') {
df$gruppe[i] = "Satellitenzeitreihe"
} else {
df$gruppe[i] = "Fehler"
}
}
df$ue.name = factor(df$ue.name, levels = c("exk", "szr"))                       # transform characters to factor
df$gruppe = factor(df$gruppe, levels = c("Exkursion", "Satellitenzeitreihe"))   # transform characters to factor
print(paste0('Gruppe A - Exkursion: n = ', nrow(df[df$gruppe == "Exkursion",]))) # Anzahl an SuS für Gruppe A
print(paste0('Gruppe B - Satellitenzeitreihe: n = ', nrow(df[df$gruppe == "Satellitenzeitreihe",])))
typ = df[df$gruppe == "Satellitenzeitreihe",]                                   # SuS von Gruppe A selektieren
#print(head(typ))
alpha_interesse = psych::alpha(subset(typ, select = c(X1, X5, X13)))            # Interesse
alpha_wahlfreiheit = psych::alpha(subset(typ, select = c(X3, X9, X15)))         # Wahlfreiheit
alpha_druck = psych::alpha(subset(typ, select = c(X4, X14, X16)))               # Druck
alpha_kompetenz = psych::alpha(subset(typ, select = c(X7, X8, X11)))            # Kompetenz
alpha_zusatz = psych::alpha(subset(typ, select = c(X2, X6, X10, X12)))          # Zusatz
reliabilitaets_tabelle_szr = data.frame(                                        # Ergebnistabelle erstellen
Szr_Dimension = c("Interesse", "Wahlfreiheit", "Druck", "Kompetenz", "Zusatz"),
Cronbachs_Alpha = c(
alpha_interesse$total$raw_alpha,                                            # cronbachs alpha von Interesse
alpha_wahlfreiheit$total$raw_alpha,
alpha_druck$total$raw_alpha,
alpha_kompetenz$total$raw_alpha,
alpha_zusatz$total$raw_alpha
))
print(reliabilitaets_tabelle_szr)                                               # Cronbachs alpha
typ = df[df$gruppe == "Exkursion",]                                             # SuS von Gruppe B selektieren
#print(head(typ))
alpha_interesse = psych::alpha(subset(typ, select = c(X1, X5, X13)))            # Interesse
alpha_wahlfreiheit = psych::alpha(subset(typ, select = c(X3, X9, X15)))         # Wahlfreiheit
alpha_druck = psych::alpha(subset(typ, select = c(X4, X14, X16)))               # Druck
alpha_kompetenz = psych::alpha(subset(typ, select = c(X7, X8, X11)))            # Kompetenz
alpha_zusatz = psych::alpha(subset(typ, select = c(X2, X6, X10, X12)))          # Zusatz
reliabilitaets_tabelle_exk = data.frame(                                        # Ergebnistabelle erstellen
Exk_Dimension = c("Interesse", "Wahlfreiheit", "Druck", "Kompetenz", "Zusatz"),
Cronbachs_Alpha = c(
alpha_interesse$total$raw_alpha,                                            # cronbachs alpha von Interesse
alpha_wahlfreiheit$total$raw_alpha,
alpha_druck$total$raw_alpha,
alpha_kompetenz$total$raw_alpha,
alpha_zusatz$total$raw_alpha
))
print(reliabilitaets_tabelle_exk)
skalenwert_interesse = rowMeans(df[, c("X1", "X5", "X13")])                     # Interesse
skalenwert_wahlfreiheit = rowMeans(df[, c("X3", "X9", "X15")])                  # Wahlfreiheit
skalenwert_druck = rowMeans(df[, c("X4", "X14", "X16")])                        # Druck
skalenwert_kompetenz = rowMeans(df[, c("X7", "X8", "X11")])                     # Kompetenz
skalenwert_zusatz = rowMeans(df[, c("X2", "X6", "X10", "X12")])                 # Zusatz
df_kim = data.frame(
susID = df$sus.nr,
ueID = df$gruppe,
ueName = df$ue.name,
date = df$date,
Interesse = skalenwert_interesse,
Wahlfreiheit = skalenwert_wahlfreiheit,
Druck = skalenwert_druck,
Kompetenz = skalenwert_kompetenz,
Zusatz = skalenwert_zusatz,
cm1wer = df$cm1ewertb,
cm2wer = df$cm2ewertb,
cm1rel = df$cm1relwertb,
cm2rel = df$cm2relwertb
)                       # merge to a data.frame
nrow(df_kim)
nrow(df$sus.nr)
skalenwert_interesse = rowMeans(df[, c("X1", "X5", "X13")])                     # Interesse
skalenwert_wahlfreiheit = rowMeans(df[, c("X3", "X9", "X15")])                  # Wahlfreiheit
skalenwert_druck = rowMeans(df[, c("X4", "X14", "X16")])                        # Druck
skalenwert_kompetenz = rowMeans(df[, c("X7", "X8", "X11")])                     # Kompetenz
skalenwert_zusatz = rowMeans(df[, c("X2", "X6", "X10", "X12")])                 # Zusatz
df_kim = data.frame(
susID = df$sus,
ueID = df$gruppe,
ueName = df$ue.name,
date = df$date,
Interesse = skalenwert_interesse,
Wahlfreiheit = skalenwert_wahlfreiheit,
Druck = skalenwert_druck,
Kompetenz = skalenwert_kompetenz,
Zusatz = skalenwert_zusatz,
cm1wer = df$cm1ewertb,
cm2wer = df$cm2ewertb,
cm1rel = df$cm1relwertb,
cm2rel = df$cm2relwertb
)                       # merge to a data.frame
skalenwert_interesse = rowMeans(df[, c("X1", "X5", "X13")])                     # Interesse
skalenwert_wahlfreiheit = rowMeans(df[, c("X3", "X9", "X15")])                  # Wahlfreiheit
skalenwert_druck = rowMeans(df[, c("X4", "X14", "X16")])                        # Druck
skalenwert_kompetenz = rowMeans(df[, c("X7", "X8", "X11")])                     # Kompetenz
skalenwert_zusatz = rowMeans(df[, c("X2", "X6", "X10", "X12")])                 # Zusatz
df_kim = data.frame(
susID = df$sus,
ueID = df$gruppe,
ueName = df$ue.name,
date = df$date,
Interesse = skalenwert_interesse,
Wahlfreiheit = skalenwert_wahlfreiheit,
Druck = skalenwert_druck,
Kompetenz = skalenwert_kompetenz,
Zusatz = skalenwert_zusatz,
)                       # merge to a data.frame
df[, c("X1", "X5", "X13")]
skalenwert_interesse
nrow(skalenwert_interesse)
count(skalenwert_interesse)
len(skalenwert_interesse)
class(skalenwert_interesse)
length(skalenwert_interesse)
length(df$sus)
length(df$gruppe)
length(df$ue.name)
length(df$date)
length(skalenwert_wahlfreiheit)
length(skalenwert_druck)
length(skalenwert_zusatz)
reliabilitaets_tabelle_exk = data.frame(                                        # Ergebnistabelle erstellen
Exk_Dimension = c("Interesse", "Wahlfreiheit", "Druck", "Kompetenz", "Zusatz"),
Cronbachs_Alpha = c(
alpha_interesse$total$raw_alpha,                                            # cronbachs alpha von Interesse
alpha_wahlfreiheit$total$raw_alpha,
alpha_druck$total$raw_alpha,
alpha_kompetenz$total$raw_alpha,
alpha_zusatz$total$raw_alpha
))
print(reliabilitaets_tabelle_exk)
skalenwert_interesse = rowMeans(df[, c("X1", "X5", "X13")])                     # Interesse
skalenwert_wahlfreiheit = rowMeans(df[, c("X3", "X9", "X15")])                  # Wahlfreiheit
skalenwert_druck = rowMeans(df[, c("X4", "X14", "X16")])                        # Druck
skalenwert_kompetenz = rowMeans(df[, c("X7", "X8", "X11")])                     # Kompetenz
skalenwert_zusatz = rowMeans(df[, c("X2", "X6", "X10", "X12")])                 # Zusatz
df_kim = data.frame(
susID = df$sus,
ueID = df$gruppe,
ueName = df$ue.name,
date = df$date,
Interesse = skalenwert_interesse,
Wahlfreiheit = skalenwert_wahlfreiheit,
Druck = skalenwert_druck,
Kompetenz = skalenwert_kompetenz,
Zusatz = skalenwert_zusatz,
)                       # merge to a data.frame
skalenwert_interesse = rowMeans(df[, c("X1", "X5", "X13")])                     # Interesse
skalenwert_wahlfreiheit = rowMeans(df[, c("X3", "X9", "X15")])                  # Wahlfreiheit
skalenwert_druck = rowMeans(df[, c("X4", "X14", "X16")])                        # Druck
skalenwert_kompetenz = rowMeans(df[, c("X7", "X8", "X11")])                     # Kompetenz
skalenwert_zusatz = rowMeans(df[, c("X2", "X6", "X10", "X12")])                 # Zusatz
df_kim = data.frame(
susID = df$sus,
ueID = df$gruppe,
ueName = df$ue.name,
date = df$date,
Interesse = skalenwert_interesse,
Wahlfreiheit = skalenwert_wahlfreiheit,
Druck = skalenwert_druck,
Kompetenz = skalenwert_kompetenz,
Zusatz = skalenwert_zusatz
)                       # merge to a data.frame
print(paste0('n = ', nrow(df_kim)))                                             # print report
?libraries
?library
#| label: load-packages
#| message: false
library(reshape, warn.conflicts = FALSE)
library(ggplot2)
library(psych)
library(rmarkdown)  # für die Online-Darstellung
library(knitr);     # für die Online-Darstellung
library(kableExtra) # für die Online-Darstellung (für schöneres Styling)
df <- read.csv(file, sep = ';', header = TRUE, fileEncoding = "ISO-8859-1")              # Daten importieren
head(df)
df <- read.csv(file, sep = ';', header = TRUE, fileEncoding = "ISO-8859-1")              # Daten importieren
head(df)
reliabilitaets_tabelle_exk = data.frame(        # Ergebnistabelle erstellen
Exk_Dimension = c("Interesse", "Wahlfreiheit", "Druck", "Kompetenz", "Zusatz"),
Cronbachs_Alpha = c(
alpha_interesse$total$raw_alpha,            # cronbachs alpha von Interesse
alpha_wahlfreiheit$total$raw_alpha,
alpha_druck$total$raw_alpha,
alpha_kompetenz$total$raw_alpha,
alpha_zusatz$total$raw_alpha
))
print(reliabilitaets_tabelle_exk)    # Cronbachs alpha
typ = df[df$gruppe == "Satellitenzeitreihe",]                                   # SuS von Gruppe A selektieren
#print(head(typ))
alpha_interesse = psych::alpha(subset(typ, select = c(X1, X5, X13)))            # Interesse
typ_exk = df[df$gruppe == "Exkursion",]                                     # SuS von Gruppe B selektieren
#print(head(typ))
alpha_interesse = psych::alpha(subset(typ_exk, select = c(X1, X5, X13)))    # Interesse
#| label: load-packages
#| message: false
#| warning: false
library(reshape)
library(ggplot2)
library(psych)
library(rmarkdown)  # für die Online-Darstellung
library(knitr);     # für die Online-Darstellung
library(kableExtra) # für die Online-Darstellung (für schöneres Styling)
dir = 'C:/Users/mario_twc07u3/OneDrive/Desktop/20260102/v2/Blersch_KIM'         # directory
file_name = 'Blersch_KIM_Analyse_pub.csv'                       # file name
setwd(dir)                                                      # set & get working directory
file = paste0(dir,'/', file_name)                               # merge directory and file name
print(paste0('Dateipfad: ',file))
df <- read.csv(file, sep = ';', header = TRUE, fileEncoding = "ISO-8859-1")              # Daten importieren
head(df)
#| echo: false
#| message: false
#| warning: false
kable(head(df), caption = "Importierte Tabelle") %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed"), full_width = F)
for (i in 1:nrow(df)) {                                         # Spalte "gruppe" hinzufügen
if(df$ue.name[i] == 'exk'){
df$gruppe[i] = "Exkursion"
} else if(df$ue.name[i] == 'szr') {
df$gruppe[i] = "Satellitenzeitreihe"
} else {
df$gruppe[i] = "Fehler"
}
}
df$ue.name = factor(df$ue.name, levels = c("exk", "szr"))                       # transform characters to factor
df$gruppe = factor(df$gruppe, levels = c("Exkursion", "Satellitenzeitreihe"))   # transform characters to factor
print(paste0('Gruppe A - Exkursion: n = ', nrow(df[df$gruppe == "Exkursion",]))) # Anzahl an SuS für Gruppe A
print(paste0('Gruppe B - Satellitenzeitreihe: n = ', nrow(df[df$gruppe == "Satellitenzeitreihe",])))
typ_exk = df[df$gruppe == "Exkursion",]                                     # SuS von Gruppe B selektieren
#print(head(typ))
alpha_interesse = psych::alpha(subset(typ_exk, select = c(X1, X5, X13)))    # Interesse
alpha_wahlfreiheit = psych::alpha(subset(typ_exk, select = c(X3, X9, X15))) # Wahlfreiheit
alpha_druck = psych::alpha(subset(typ_exk, select = c(X4, X14, X16)))       # Druck
alpha_kompetenz = psych::alpha(subset(typ_exk, select = c(X7, X8, X11)))    # Kompetenz
alpha_zusatz = psych::alpha(subset(typ_exk, select = c(X2, X6, X10, X12)))  # Zusatz
reliabilitaets_tabelle_exk = data.frame(        # Ergebnistabelle erstellen
Exk_Dimension = c("Interesse", "Wahlfreiheit", "Druck", "Kompetenz", "Zusatz"),
Cronbachs_Alpha = c(
alpha_interesse$total$raw_alpha,            # cronbachs alpha von Interesse
alpha_wahlfreiheit$total$raw_alpha,
alpha_druck$total$raw_alpha,
alpha_kompetenz$total$raw_alpha,
alpha_zusatz$total$raw_alpha
))
print(reliabilitaets_tabelle_exk)    # Cronbachs alpha
typ_szr = df[df$gruppe == "Satellitenzeitreihe",]                                   # SuS von Gruppe A selektieren
#print(head(typ))
alpha_interesse = psych::alpha(subset(typ_szr, select = c(X1, X5, X13)))            # Interesse
alpha_wahlfreiheit = psych::alpha(subset(typ_szr, select = c(X3, X9, X15)))         # Wahlfreiheit
alpha_druck = psych::alpha(subset(typ_szr, select = c(X4, X14, X16)))               # Druck
alpha_kompetenz = psych::alpha(subset(typ_szr, select = c(X7, X8, X11)))            # Kompetenz
alpha_zusatz = psych::alpha(subset(typ_szr, select = c(X2, X6, X10, X12)))          # Zusatz
reliabilitaets_tabelle_szr = data.frame(                                        # Ergebnistabelle erstellen
Szr_Dimension = c("Interesse", "Wahlfreiheit", "Druck", "Kompetenz", "Zusatz"),
Cronbachs_Alpha = c(
alpha_interesse$total$raw_alpha,                                            # cronbachs alpha von Interesse
alpha_wahlfreiheit$total$raw_alpha,
alpha_druck$total$raw_alpha,
alpha_kompetenz$total$raw_alpha,
alpha_zusatz$total$raw_alpha
))
print(reliabilitaets_tabelle_szr)    # Cronbachs alpha
skalenwert_interesse = rowMeans(df[, c("X1", "X5", "X13")])                     # Interesse
skalenwert_wahlfreiheit = rowMeans(df[, c("X3", "X9", "X15")])                  # Wahlfreiheit
skalenwert_druck = rowMeans(df[, c("X4", "X14", "X16")])                        # Druck
skalenwert_kompetenz = rowMeans(df[, c("X7", "X8", "X11")])                     # Kompetenz
skalenwert_zusatz = rowMeans(df[, c("X2", "X6", "X10", "X12")])                 # Zusatz
df_kim = data.frame(
susID = df$sus,
ueID = df$gruppe,
ueName = df$ue.name,
date = df$date,
Interesse = skalenwert_interesse,
Wahlfreiheit = skalenwert_wahlfreiheit,
Druck = skalenwert_druck,
Kompetenz = skalenwert_kompetenz,
Zusatz = skalenwert_zusatz
)                       # merge to a data.frame
print(paste0('n = ', nrow(df_kim)))                                             # print report
df_kim_exk = df_kim[df_kim$ueID == 'Exkursion',]
sumstat_exk = summary(df_kim_exk)
write.csv2(sumstat_exk, file=paste0(dir,"/blersch_diss_analyse_exk.csv"))       # export table as csv
sd_interesse_exk = sd(df_kim_exk$Interesse, na.rm=TRUE); print(sd_interesse_exk)# Standardabweichung ausgeben
sd_wahfreiheit_exk = sd(df_kim_exk$Wahlfreiheit, na.rm=TRUE)
sd_druck_exk = sd(df_kim_exk$Druck, na.rm=TRUE)
sd_kompetenz_exk = sd(df_kim_exk$Kompetenz, na.rm=TRUE)
sd_zusatz_exk = sd(df_kim_exk$Zusatz, na.rm=TRUE)
print(sd_interesse_exk);print(sd_wahfreiheit_exk);print(sd_druck_exk);print(sd_kompetenz_exk) # Ergebnisse ausgeben lassen
df_kim_szr = df_kim[df_kim$ueID == 'Satellitenzeitreihe',]
sumstat_szr = summary(df_kim_szr)
write.csv2(sumstat_szr, file=paste0(dir,"/blersch_diss_analyse_szr.csv"))       # export table as csv
sd_interesse_szr = sd(df_kim_szr$Interesse, na.rm=TRUE) # Standardabweichung ausgeben
sd_wahfreiheit_szr = sd(df_kim_szr$Wahlfreiheit, na.rm=TRUE)
sd_druck_szr = sd(df_kim_szr$Druck, na.rm=TRUE)
sd_kompetenz_szr = sd(df_kim_szr$Kompetenz, na.rm=TRUE)
sd_zusatz_szr = sd(df_kim_szr$Zusatz, na.rm=TRUE)
sd_interesse_szr = sd(df_kim_szr$Interesse, na.rm=TRUE) # Standardabweichung ausgeben
sd_wahfreiheit_szr = sd(df_kim_szr$Wahlfreiheit, na.rm=TRUE)
sd_druck_szr = sd(df_kim_szr$Druck, na.rm=TRUE)
sd_kompetenz_szr = sd(df_kim_szr$Kompetenz, na.rm=TRUE)
sd_zusatz_szr = sd(df_kim_szr$Zusatz, na.rm=TRUE)
print(sd_interesse_szr);print(sd_wahfreiheit_szr);print(sd_druck_szr);print(sd_kompetenz_szr) # Ergebnisse ausgeben lassen
df_kim_kurz = df_kim[1:8]
data = melt(df_kim_kurz)
print(nrow(data))
data = melt(df_kim_kurz)      # Neues 'long format' für gruppiertes Boxplot
colnames(data)[2] = "Gruppe"; colnames(data)[5] = "KIM"; colnames(data)[6] = "Likert" # Spalten umbenennen, dass Boxplot-Achsen gut lesbar sind
df_kim[1:8]
ggplot(data, aes(x=KIM, y=Likert, fill=Gruppe)) +
geom_boxplot(alpha=0.75) +
ylim(1, 5) +
scale_fill_manual(values=c("#252653","#FFC50B")) +       # Farbgebung
theme_bw() +
theme(legend.position="bottom", plot.title = element_text(size=11)) +
xlab("KIM Bereiche") +
ylab("Likert Skala")
plot(pressure)
reliabilitaets_tabelle_exk = data.frame(        # Ergebnistabelle erstellen
Exk_Dimension = c("Interesse", "Wahlfreiheit", "Druck", "Kompetenz", "Zusatz"),
Cronbachs_Alpha = c(
alpha_interesse$total$raw_alpha,            # cronbachs alpha von Interesse
alpha_wahlfreiheit$total$raw_alpha,
alpha_druck$total$raw_alpha,
alpha_kompetenz$total$raw_alpha,
alpha_zusatz$total$raw_alpha
))
print(reliabilitaets_tabelle_exk)    # Cronbachs alpha
#| echo: false
#| message: false
#| warning: false
kable(head(df_kim), caption = "Tab. 2: Skalenwerte") %>%
kable_styling(bootstrap_options = c("striped", "hover", "condensed"), full_width = F)
